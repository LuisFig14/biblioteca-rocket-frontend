<div class="container my-5">
    <div class="card shadow-sm border-0">
      <div class="card-header bg-light bg-gradient">

        <h4 class="card-title fw-bold text-primary mb-0" *ngIf="!book.idBook else title">
          <i class="bi bi-book me-2"></i>Nuevo Libro
        </h4>

        <ng-template #title>
            <h4 class="card-title fw-bold text-primary mb-0">
                <i class="bi bi-book me-2"></i>Editar Libro
              </h4>
        </ng-template>

      </div>


      <div class="card-body">
        <form #bookForm="ngForm">
          
          <!-- Título -->
          <div class="mb-4">
            <label for="title" class="form-label fw-medium">Título del Libro</label>
            <input type="text" class="form-control" id="title" 
                   [(ngModel)]="book.title" name="title" 
                   required placeholder="Ingrese el título del libro">
            <div class="form-text text-muted">Ej: Cien años de soledad</div>
          </div>
          
          <!-- Autor -->
          <div class="mb-4">
            <label for="author" class="form-label fw-medium">Autor</label>
            <input type="text" class="form-control" id="author" 
                   [(ngModel)]="book.author" name="author" 
                   required placeholder="Nombre completo del autor">
            <div class="form-text text-muted">Ej: Gabriel García Márquez</div>
          </div>
          
          <!-- Género y Stock en misma fila -->
          <div class="row mb-4">
            <div class="col-md-6">
              <label for="genre" class="form-label fw-medium">Género</label> 
              <input type="text" class="form-control" id="genre" 
              [(ngModel)]="book.genre" name="genre"
              required placeholder="Ingrese el género del Libro">
              <div class="form-text text-muted">Ej: Novela, Ciencia Ficción</div>
            </div>
            <div class="col-md-6">
              <label for="stock" class="form-label fw-medium">Stock Disponible</label>
              <input type="number" class="form-control" id="stock" 
                     [(ngModel)]="book.stock" name="stock" 
                     min="0" required placeholder="0">
            </div>
          </div>
          
          <!-- ISBN -->
          <div class="mb-4">
            <label for="isbn" class="form-label fw-medium">ISBN</label>
            <input type="text" class="form-control" id="isbn" 
                   [(ngModel)]="book.isbn" name="isbn" 
                   required placeholder="Ej: 978-3-16-148410-0">
            <div class="form-text text-muted">Ingrese el código ISBN de 13 dígitos</div>
          </div>

          
          <!-- Botones -->
          <div class="d-flex justify-content-end gap-3 pt-3 border-top">

            <a class="btn btn-secondary" href="" [routerLink]="['/books']">Cancelar</a>

            <button type="submit" class="btn btn-primary" (click)="create()" *ngIf="!book.idBook else elseBlock">Registrar libro</button>
          
            <ng-template #elseBlock>
              <button role="button" class="btn btn-primary"(click)="update()">Actualizar Libro</button>
            </ng-template>

          </div>
        </form>
      </div>
    </div>
  </div>
